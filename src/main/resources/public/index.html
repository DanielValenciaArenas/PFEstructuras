<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <title>PFEstructuras â€” Portal</title>
    <link rel="stylesheet" href="/public/css/estilos.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body class="shell">

<script src="/public/js/auth.js"></script>
<script>
    Auth.requireLogin();
</script>

<header class="top">
    <div class="brand">PFEstructuras â€” Portal</div>
    <div class="user">
        <span id="who"></span>
        <button id="btnLogout" class="btn outline">Salir</button>
    </div>
</header>

<main class="container">
    <div class="grid">

        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>Ubicaciones</h2>
            <p>Registrar zonas y su nivel de afectaciÃ³n.</p>
            <a class="btn" href="/public/ubicaciones.html">Abrir</a>
        </section>

        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>Rutas</h2>
            <p>Registrar rutas y calcular la ruta mÃ¡s corta.</p>
            <a class="btn" href="/public/rutas.html">Abrir</a>
        </section>

        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>Recursos</h2>
            <p>Gestionar recursos y asignar equipos de rescate.</p>
            <a class="btn" href="/public/recursos.html">Abrir</a>
        </section>

        <!-- ADMIN + OPERADOR â€” NUEVO: Equipos de rescate -->
        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>Equipos de rescate</h2>
            <p>Registrar y gestionar los equipos de rescate del sistema.</p>
            <a class="btn" href="/public/equipos.html">Abrir</a>
        </section>

        <!-- ADMIN + OPERADOR -->
        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>Evacuaciones</h2>
            <p>Crear y actualizar estado de evacuaciones.</p>
            <a class="btn" href="/public/evacuaciones.html">Abrir</a>
        </section>

        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>Dashboard</h2>
            <p>Resumen del sistema.</p>
            <a class="btn" href="/public/dashboard.html">Abrir</a>
        </section>

        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>Mapa Interactivo</h2>
            <p>Visualizar y crear ubicaciones en el mapa.</p>
            <a class="btn" href="/public/mapaInteractivo.html">Abrir</a>
        </section>

        <!-- ðŸ’¡ ADMIN + OPERADOR â€” NUEVO: DistribuciÃ³n de recursos -->
        <section class="card" data-roles="ADMINISTRADOR,OPERADOR">
            <h2>DistribuciÃ³n de recursos</h2>
            <p>Distribuir recursos segÃºn prioridad de zonas y proximidad.</p>
            <!-- OJO: siempre bajo /public/, tu servidor sirve asÃ­ los HTML -->
            <a class="btn" href="/public/distribucion.html">Abrir</a>
        </section>

        <!-- SOLO ADMIN -->
        <section class="card" data-roles="ADMINISTRADOR">
            <h2>Usuarios</h2>
            <p>Listado de usuarios del sistema (solo Administrador).</p>
            <a class="btn" href="/public/usuarios.html">Abrir</a>
        </section>

    </div>
</main>

<footer class="foot">
    Â© Proyecto Estructura de Datos
</footer>

<!-- MantÃ©n portal.js (control de roles + logout) -->
<script src="/public/js/portal.js"></script>

</body>
</html>
