<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Recursos y Equipos</title>
    <link rel="stylesheet" href="/public/css/estilos.css">
    <script src="/public/js/auth.js"></script>
</head>
<body>
<script>
    renderHeader('Recursos y Equipos');
    requireRole(['ADMIN','OPERADOR']);
</script>

<main class="container">
    <!-- AGREGAR RECURSO -->
    <section class="card">
        <h2>Agregar recurso</h2>
        <form id="formRecurso" class="row">
            <select id="tipoRecurso">
                <option value="ALIMENTO">ALIMENTO</option>
                <option value="MEDICINA">MEDICINA</option>
            </select>

            <input id="nombreRecurso" placeholder="Nombre del recurso" required>

            <input id="cantidadRecurso" type="number" min="1" placeholder="Cantidad" required>

            <!--  Es un SELECT de ubicaciones existentes, se llena desde recursos.js -->
            <select id="ubicacionRecurso" required>
                <option value="">Selecciona ubicaci贸n</option>
                <!-- opciones reales se llenan desde recursos.js con /api/ubicaciones -->
            </select>

            <!-- Solo para alimento -->
            <input id="fechaVencimiento" type="date" placeholder="Fecha de vencimiento">

            <!-- Solo para medicina -->
            <input id="tipoMedicamento" placeholder="Tipo de medicamento (ej. analg茅sico)">

            <button class="btn">Agregar recurso</button>
        </form>
    </section>

    <!-- ASIGNAR EQUIPO EXISTENTE A UNA UBICACIN -->
    <section class="card mt">
        <h2>Asignar equipo de rescate existente</h2>
        <p>Primero se crean los equipos en otra interfaz (por ejemplo, Equipos). Aqu铆 solo se asignan a una ubicaci贸n.</p>
        <form id="formAsignarEquipo" class="row">
            <select id="equipoExistente">
                <option value="">Selecciona equipo</option>
                <!-- Se llena desde /api/equipos en recursos.js -->
            </select>

            <!--  SELECT de ubicaciones existentes para asignar -->
            <select id="ubicacionEquipo" required>
                <option value="">Selecciona ubicaci贸n</option>
                <!-- opciones reales se llenan desde recursos.js con /api/ubicaciones -->
            </select>

            <button class="btn">Asignar equipo</button>
        </form>
    </section>

    <!-- RESUMEN -->
    <section class="card mt">
        <h2>Resumen</h2>
        <div id="msgOk" class="success" style="display:none">Guardado correctamente</div>

        <h3 class="mt">Recursos</h3>
        <table class="mt">
            <thead>
            <tr>
                <th>Nombre / Tipo</th>
                <th>Cantidad</th>
                <th>Ubicaci贸n</th>
            </tr>
            </thead>
            <tbody id="tablaRecursos"></tbody>
        </table>

        <h3 class="mt">Equipos</h3>
        <table>
            <thead>
            <tr>
                <th>Nombre</th>
                <th>Tipo</th>
                <th>Miembros</th>
                <th>Ubicaci贸n</th>
            </tr>
            </thead>
            <tbody id="tablaEquipos"></tbody>
        </table>
    </section>
</main>

<script src="/public/js/recursos.js"></script>
</body>
</html>
